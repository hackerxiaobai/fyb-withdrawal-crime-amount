# fyb-withdrawal-crime-amount
### [法研杯犯罪金额提取比赛代码整理](http://data.court.gov.cn/pages/laic2021.html)

### 结果
- 代码就这样吧，凑合看。复赛提交代码一样
- 花费时间不多，总共个把星期吧，还能混个奖，实在没想到
- 最终成绩三等奖，点个star吧。🙏

#### 需求说明

> 本任务所使用的数据集主要来自于“中国裁判文书网”公开的法律文书，每条训练数据由一份法律文书的案情描述片段构成，其中每个句子都被标记了对应的犯罪金额，例如：

```json
{
	"justice": "经审理查明，2014年9月，被告人饶XX与钟某1（另案处理）一起到余某县欲骗婚。2014年9月4日，钟某1经饶XX介绍以“先雪X”的身份与被害人范某1相亲，并假装同意与范某1结婚，范某1信以为真，并同意与钟某1领取结婚证后给付彩礼。饶XX在明知钟某1不是先雪X的情况下依旧和钟某1一起实施诈骗。次日，钟某1持“先雪X”的户口本与范某1到余某县民政局办理婚姻登记，因“先雪X”的户口本为手写，未能领取结婚证。后饶XX、钟某1与范某1、刘某母子约定，回贵州老家办好户口再与范某1办理婚姻登记。2014年9月19日，饶XX带着钟某1、钟某4（已判刑）来到余某继续对范某1实施诈骗，三人居住在范某1、刘某母子家，按事先商议，饶XX继续帮助钟某1隐瞒身份。同年9月22日，钟某1使用“先雪X”的身份和范某1领取结婚证，次日范某1的母亲刘某支付彩礼80000元、介XX4000元、路费1800元、黄金戒指、黄金耳环、黄金项链及一条吉品金X香烟给钟某1、饶XX等人。2014年9月28日，钟某1、钟某4趁范某1家没人便逃跑，范某1、刘某母子发现被骗遂报案。2017年2月11日，饶XX在苏州火车站被苏州站派出所民警抓获，并临时羁押在苏州市第一看守所。2017年2月14日，余江县公安局办案民警将饶XX押解归案。经鉴定，被骗黄金戒指、黄金耳环、黄金项链价值共计人民币5625元。\n',",
    "money": "91425.0"
}

```

#### 解决方案
+ 纯规则抽取金额，线上初赛可以到75.4
+ 拆分最小粒度子句+分类+规则抽取，线上初赛可以到83.4
+ 拆分最小粒度子句+NER抽取，线上初赛可以到87.8
+ 多模型ensemble，初赛最高88.2


#### 运行（本地）
+ pip install -r requirments.txt
+ python utils.py ./data/train.txt ./data/
+ python main.py

#### Docker
+ docker build -f Dockerfile -t fyb/demo .
+ docker run --gpus all -it fyb/demo
